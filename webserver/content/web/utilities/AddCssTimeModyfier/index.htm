<!DOCTYPE html>
<html manifest="media.appcache">
    <head>
        <script>
            
            window.addEventListener('error', function(e) {
                window.top.postMessage("[BOOT-RELOAD]", '*');
            }, true);
            
        </script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <title>RPlayer (min v1.42.61) :: Utility - AddCssTimeModyfier v0.0.1 (2022)</title>

        <link rel="icon" href="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8IS0tIENyZWF0b3I6IENvcmVsRFJBVyAyMDE4ICg2NCBiaXTFrykgLS0+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjIxMG1tIiBoZWlnaHQ9IjIxMG1tIiB2ZXJzaW9uPSIxLjEiIHN0eWxlPSJzaGFwZS1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uOyB0ZXh0LXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247IGltYWdlLXJlbmRlcmluZzpvcHRpbWl6ZVF1YWxpdHk7IGZpbGwtcnVsZTpldmVub2RkOyBjbGlwLXJ1bGU6ZXZlbm9kZCINCnZpZXdCb3g9IjAgMCAyMTAwMCAyMTAwMCINCiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogPGRlZnM+DQogIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQogICA8IVtDREFUQVsNCiAgICAuc3RyMSB7c3Ryb2tlOiMyQjJBMjk7c3Ryb2tlLXdpZHRoOjIwO3N0cm9rZS1taXRlcmxpbWl0OjIyLjkyNTZ9DQogICAgLnN0cjAge3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6MjA7c3Ryb2tlLW1pdGVybGltaXQ6MjIuOTI1Nn0NCiAgICAuZmlsMSB7ZmlsbDpibGFja30NCiAgICAuZmlsMiB7ZmlsbDojNDE4M0M0fQ0KICAgIC5maWwwIHtmaWxsOndoaXRlfQ0KICAgXV0+DQogIDwvc3R5bGU+DQogPC9kZWZzPg0KIDxnIGlkPSJWcnN0dmFfeDAwMjBfMSI+DQogIDxtZXRhZGF0YSBpZD0iQ29yZWxDb3JwSURfMENvcmVsLUxheWVyIi8+DQogIDxnIGlkPSJMb2dvX3gwMDIwX1JQbGF5ZXIiPg0KICAgPHJlY3QgY2xhc3M9ImZpbDAiIHdpZHRoPSIyMTAwMCIgaGVpZ2h0PSIyMTAwMCIgcng9IjI5NzMuOTYiIHJ5PSIyOTczLjk2Ii8+DQogICA8ZyBpZD0iTG9nb194MDAyMF9SUGxheWVyX3gwMDIwXzEiPg0KICAgIDxwYXRoIGNsYXNzPSJmaWwxIiBkPSJNNjQ1MC40OCAxMjEwMy43bDY3MC44MyAtMzg3LjMgNzg4MS4yOCAtNDU1MC4yNmMxNDkuNDYsLTg2LjI5IDIzNSwtMjM0LjQ1IDIzNSwtNDA3LjAzIDAsLTE3Mi41OCAtODUuNTQsLTMyMC43NCAtMjM1LC00MDcuMDNsLTg1NTIuMTEgLTQ5MzcuNTZjLTE0OS40NiwtODYuMjkgLTMyMC41NCwtODYuMjkgLTQ3MCwwIC0xNDkuNDUsODYuMjkgLTIzNSwyMzQuNDUgLTIzNSw0MDcuMDNsMCA5ODc1LjExYzAsMTcyLjU4IDg1LjU0LDMyMC43NSAyMzUsNDA3LjA0IDE0OS40Niw4Ni4yOCAzMjAuNTQsODYuMjkgNDcwLDB6bTY3MC44MyAtMjU3Ny4xOWwwIC01NTM0LjggMCAtODE0LjA2IDcwNC44MSA0MDYuOTIgMjM5Ni44MyAxMzgzLjgxIDMxMDEuNjMgMTc5MC43MyAtMzEwMS42MyAxNzkwLjczIC0yMzk2LjgzIDEzODMuODEgLTcwNC44MSA0MDYuOTIgMCAtODE0LjA2eiIvPg0KICAgIDxwYXRoIGNsYXNzPSJmaWwxIiBkPSJNNjIxNS40OCAxMjc4NS43N2w0MzUuODMgMGMyNTguODcsMCA0NzAsMjExLjEzIDQ3MCw0NzBsMCA2MDE0LjIxYzAsMjU4Ljg3IC0yMTEuMTMsNDcwIC00NzAsNDcwbC00MzUuODMgMGMtMjU4Ljg3LDAgLTQ3MCwtMjExLjEzIC00NzAsLTQ3MGwwIC02MDE0LjIxYzAsLTI1OC44NyAyMTEuMTMsLTQ3MCA0NzAsLTQ3MHoiLz4NCiAgICA8cGF0aCBjbGFzcz0iZmlsMSBzdHIwIiBkPSJNOTg3Mi45NyAxOTI2OS45OGwwIC02MDE0LjIxYzAsLTI1OC44NyAyMTEuMTMsLTQ3MCA0NzAsLTQ3MGw0MzUuODMgMGMyNTguODcsMCA0NzAsMjExLjEzIDQ3MCw0NzBsMCA2MDE0LjIxYzAsMjU4Ljg3IC0yMTEuMTMsNDcwIC00NzAsNDcwbC00MzUuODMgMGMtMjU4Ljg3LDAgLTQ3MCwtMjExLjEzIC00NzAsLTQ3MHoiLz4NCiAgICA8cG9seWdvbiBjbGFzcz0iZmlsMiBzdHIxIiBwb2ludHM9IjcxMjEuMzEsMzk5MS43MSA3MTIxLjMxLDk1MjYuNTEgNzEyMS4zMSwxMDM0MC41NyA3ODI2LjEyLDk5MzMuNjUgMTAyMjIuOTUsODU0OS44NCAxMzMyNC41OCw2NzU5LjExIDEwMjIyLjk1LDQ5NjguMzggNzgyNi4xMiwzNTg0LjU3IDcxMjEuMzEsMzE3Ny42NSAiLz4NCiAgIDwvZz4NCiAgPC9nPg0KIDwvZz4NCjwvc3ZnPg0K">
        
        <link rel="stylesheet" href="../../vendor/semantic/ui/dist/semantic.css">
        
        <script src="../../src/js/foreign/jquery.js"></script>
        <script src="../../src/js/foreign/jquery.transit.min.js"></script>
        <script src="../../src/js/foreign/current-device.js"></script>
        <script src="../../vendor/stuk/jszip/dist/jszip.min.js"></script>
        <script src="../../vendor/stuk/jszip/vendor/FileSaver.js"></script>
        <script src="../../vendor/semantic/ui/dist/semantic.min.js"></script>
        <script src="../../vendor/robinherbots/jquery.inputmask/dist/jquery.inputmask.min.js"></script>
        <script src="../../src/js/foreign/jquery.fullscreen.min.js"></script>
        <style>
            body {
                position: fixed;
                display: flex;
                justify-content: center;
                align-items: center;
                top: 0;
                right: 0;
                bottom: 0;
                left: 0;
            }

            .leftSide,
            .rightSide,
            .middleSide {
                display: flex !important;
                justify-content: center;
                align-items: center;
                background-color: #123;
            }

            .layout {
                position: fixed;
                width: 100% !important;
                height: 100% !important;
            }

            .leftSide textarea,
            .rightSide textarea {
                width: 100% !important;
                min-width: none !important;
                height: 100% !important;
                max-height: none !important;
                resize: none !important;
            }
        </style>
    </head>
    <body>
        <div class="ui form three columns stackable grid layout">
            <!-- <div class="row"> -->
                <div class="seven wide column leftSide">
                    <textarea placeholder="rplayer.conf.js >> object cssTimeModyfier" class="form-control sourceCode" wrap="hard" name="source"></textarea>
                </div>
                <div class="two wide column middleSide">
                    <div style="background-color: red;">
                        ahoj demente
                    </div>
                </div>
                <div class="seven wide column rightSide">
                    <textarea placeholder='{"TimeMs": <int>,"LengthMs": <int>}, ...' class="form-control addCode" wrap="hard" name="add"></textarea>
                </div>

            <!-- </div> -->
        </div>
    </body>
    <script type="text/ecmascript">
        class AddCssTimeModyfier {
            constructor() {
                var that = this;
                $(document).ready(
                    function() {
                        that.init();
                    }
                );
            }
            init() {
                this.sourceCorrect = false;

                this.checkSource();
                this.textareaColor();
            }
            checkSource() {
                var that = this;
                setInterval(function() {
                    var obj;
                    try {
                        eval("obj = {" + $(".leftSide .sourceCode").val() + "}");
                        if (Object.keys(obj).length > 0) {
                            that.sourceCorrect = true
                            if (!that.checkMandatories(obj)) {
                                that.sourceCorrect = false;
                            } else {
                                console.info("[RPlayer:cssTimeModyfier]","Cool! Everything looks great!");
                            }
                        } else {
                            that.sourceCorrect = false
                            console.error("[RPlayer:cssTimeModyfier]","Nothing here.")
                        }
                    } catch (error) {
                        that.sourceCorrect = false;
                        console.error("[RPlayer:cssTimeModyfier]","Syntax error.")
                    }
                    that.textareaColor()
                },200);
            }
            checkMandatories(obj) {
                var obj;
                var ret = true;

                if (obj.cssTimeModyfier === undefined) {
                    ret = false;
                    console.error("[RPlayer:cssTimeModyfier]","Node cssTimeModyfier not found.");
                } else {
                    if (obj.cssTimeModyfier.selectors === undefined) {
                        ret = false;
                        console.error("[RPlayer:cssTimeModyfier]","Node cssTimeModyfier.selectors not found.");
                    } else {
                        if (obj.cssTimeModyfier.css === undefined) {
                            ret = false;
                            console.error("[RPlayer:cssTimeModyfier]","Node cssTimeModyfier.css not found.");
                        } else {
                            if (obj.cssTimeModyfier.default === undefined) {
                                ret = false;
                                console.error("[RPlayer:cssTimeModyfier]","Node cssTimeModyfier.default not found.");
                            } else {
                                if (obj.cssTimeModyfier.commandsInTime === undefined) {
                                    ret = false;
                                    console.error("[RPlayer:cssTimeModyfier]","Node cssTimeModyfier.commandsInTime not found.");
                                }
                            }
                        }
                    }
                }

                return ret;
            }
            textareaColor() {
                var that = this;
                setInterval(function() {
                    if (that.sourceCorrect) {
                        $(".leftSide .sourceCode").css({
                            backgroundColor: "lightgreen"
                        });
                    } else {
                        $(".leftSide .sourceCode").css({
                            backgroundColor: "pink"
                        });
                    }
                },200);
            }
        }
        new AddCssTimeModyfier();
    </script>
</html>